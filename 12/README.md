# 프로세스 동기화
## 동기화란
동시다발적으로 실행되는 프로세스들은 서로 협력하며 영향을 주고 받기 때문에 실행 순서와 자원의 일관성을 보장해야 하기에 반드시 동기화synchronization 되어야함

### 동기화의 의미
동시다발적으로 실행되는 많은 프로세스는 서로 데이터를 주고받으며 협력하며 실행

ex. 워드 프로세서에는 사용자로부터 입력을 받는 프로세스와 입력한 내용의 맞춤법을 검사하는 프로세스, 입력한 내용을 화면에 출력해 주는 프로세스 등이 있음

프로세스들 사이의 수행 시기를 맞추는 프로세스 동기화
- 실행 순서 제어: 프로세스를 올바른 순서대로 실행하기
- 상호 배재: 동시에 접근해서는 안 되는 자원에하나의 프로세스만 접근하게 하기

### 생산자와 소비자 문제
물건을 계속해서 생산하는 프로세스인 생산자와 물건을 계속해서 소비하는 프로세스인 소비자가 동시에 접근해서는 안 되는 자원에 동시에 접근했기에 발생한 문제

### 공유자원과 임계 구역
전역 변수, 파일, 입출력장치, 보조기억장치 등의 공유자원 중 두개 이상의 프로세스를 동시에 실행하면 문제가 발생하는 코드 영역인 임계 구역에 여러 프로세스가 동시 다발적으로 접근해 문제가 발생하는 레이스 컨디션race condition

- 상호 배제mutual exclusion: 한 프로세스가 임계 구역에 진입했다면 다른 프로세스는 임계 구역에 들어올 수 없다.
- 진행progress: 임계 구역에 어떤 프로세스도 진입하지 않았다면 임계 구역에 진입하고자 하는 프로세스는 들어갈 수 있어야 한다.
- 유한 대기bounded waiting: 한 프로세스가 임계 구역에 진입하고 싶다면 그 프로세스는 언젠가는 임게 구역에 들어올 수 있어야 한다.

## 동기화 기법
### 뮤텍스 락Mutex lock: MUTual EXclusion lock
동시에 접근해서는 안되는 자원을 동시에 접근하지 않도록 만드는 도구. 즉, 상호 배제를 위한 동기화 도구 

- 자물쇠 역할: 프로세스들이 공유하는 전역 변수 lock
- 임계 구역을 잠그는 역할: acquire 함수

  프로세스가 임계 구역에 진입하기 전에 호출하는 함수. 임계 구역이 잠겨 있다면 임계 구역이 열릴 때까지 임계 구역을 반복적으로 확인하고, 열려있다면 임계 구역을 잠그는 함수   
- 임계 구역의 잠금을 해제하는 역할: release 함수

  임계 구역에서의 작업이 끝나고 호출하는 함수. 현재 잠긴 임계 구역을 열어주는 함수

acquire 함수를 통해 임계 구역이 잠겨 있을 경우 프로세스는 반복적으로 lock을 확인. busy wait

### 세마포
공유 자원이 여러 개 있을 경우 여러 개의 프로세스가 각각 공유 자원에 접근하는 프로세스를 상정한 방식

- 임계 구역에 진입할 수 있는 프로세스의 개수를 나타내는 전역 변수S
- 임계 구역에 들어가도 좋은지, 기다려야 할지를 알려주는 wait 함수
- 임계 구역 앞에서 기다리는 프로세스에 이제 가도 좋다고 신호를 주는 signal 함수

### 모니터
공유 자원과 공유 자원에 접근하기 위한 인터페이스를 묶어 관리하여 프로세스는 반드시 인터페이스를 통해서만 공유 자원에 접근 가능

공유 자원을 다루는 인터페이스에 접근하기 위한 큐를 만들고, 모니터 안에 항상 하나의 프로세스만 들어오도록하여 상호배제를 위한 동기화를 제공
